<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>è¨˜éŒ²å†ç”Ÿï¼ˆã‚¤ãƒ™ãƒ³ãƒˆéŸ³å£°ï¼‰</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body class="bg-light p-3">
  <div class="container" style="max-width:820px">
    <h1 class="mb-2 text-primary">è¨˜éŒ²å†ç”Ÿãƒ¢ãƒ¼ãƒ‰ï¼ˆã‚¤ãƒ™ãƒ³ãƒˆéŸ³å£°ï¼‰</h1>
    <p class="text-muted">é–‹å§‹/çµ‚äº†ã®UNIXãƒŸãƒªç§’ï¼ˆtimestamp_msï¼‰ã‚’æŒ‡å®šã—ã¦å†ç”Ÿã—ã¾ã™ã€‚</p>

    <div class="row g-2">
      <div class="col-md-6">
        <label class="form-label">é–‹å§‹ (ms)</label>
        <input id="replayStart" type="number" class="form-control" placeholder="ä¾‹: 1760918700000">
      </div>
      <div class="col-md-6">
        <label class="form-label">çµ‚äº† (ms)</label>
        <input id="replayEnd" type="number" class="form-control" placeholder="ä¾‹: 1760919000000">
      </div>
    </div>

    <div class="mt-3 d-flex gap-2">
      <!-- ğŸ”½ å†ç”Ÿé–‹å§‹ãƒœã‚¿ãƒ³ã®æŒ™å‹•ã‚’å¤‰æ›´ -->
      <button id="btnStart" class="btn btn-success btn-lg">å†ç”Ÿé–‹å§‹</button>
      <a class="btn btn-outline-dark ms-auto" href="{{ url_for('sessions.detail_result_page', session_id=session_id) }}">æˆ»ã‚‹</a>
    </div>

    <hr class="my-3"/>

    <div class="p-3 bg-white rounded shadow-sm">
      <p class="text-muted mb-0">å†ç”Ÿç¯„å›²ã‚’æŒ‡å®šã—ã¦ã€Œå†ç”Ÿé–‹å§‹ã€ã‚’æŠ¼ã™ã¨ã€</p>
      <p class="text-muted">recording_active.html ã¨åŒã˜UIã§è¨˜éŒ²ãŒå†ç”Ÿã•ã‚Œã¾ã™ã€‚</p>
    </div>
  </div>

  <script>
    document.getElementById("btnStart").onclick = () => {
      const startMs = document.getElementById("replayStart").value;
      const endMs = document.getElementById("replayEnd").value;
      if (!startMs || !endMs || parseInt(endMs) <= parseInt(startMs)) {
        alert("é–‹å§‹/çµ‚äº†ã®æ™‚åˆ»(ms)ã‚’æ­£ã—ãå…¥åŠ›ã—ã¦ãã ã•ã„");
        return;
      }

      // ğŸ¬ recording_active_re.html ã«é·ç§»
      const sessionId = "{{ session_id }}";
      const url = `/replay_active/${sessionId}?start=${startMs}&end=${endMs}`;
      window.location.href = url;
    };
  </script>
</body>
</html>
